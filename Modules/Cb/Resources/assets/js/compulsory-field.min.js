const COMPULSORY_FIELD = function () {

    var REQUIRED_INPUTS = [];

    return {
        check: function () {
            REQUIRED_INPUTS = document.getElementsByClassName('compulsory-field');

            for (var i = 0; i < REQUIRED_INPUTS.length; i++) {
                var input = REQUIRED_INPUTS[i];

                if (input.tagName != 'LABEL') {


                    input.addEventListener("input", function () {
                        if (input.value.trim().length === 0) {
                            input.style.borderColor = "red";
                        } else {
                            input.style.borderColor = "#059669";
                        }
                    });


                    input.style.borderColor = "#059669";
                    if (input.value.trim().length === 0) {

                        var hrefValue = '#' + getTabIdFromChildNode(input);
                        if (hrefValue != '#null') {
                            var activeTab = getAnchorTagFromHref(hrefValue);
                            activeTab.click();
                        }


                        input.style.borderColor = "red";
                        input.focus();
                        showWarningMessage('Please fill out this field..!   ');
                        return true;
                    }
                }
            }
            return false;
        },

        reset: function () {
            for (var i = 0; i < REQUIRED_INPUTS.length; i++) {
                var input = document.getElementById(REQUIRED_INPUTS[i]);
                input.style.borderColor = "#D1D5DB";
            }
        },
    }
}();


document.addEventListener('DOMContentLoaded', function () {

});



function getTabIdFromChildNode(childNode) {
    var currentNode = childNode.parentNode;

    while (currentNode) {
        if (currentNode.id && currentNode.id.startsWith('tb')) {
            return currentNode.id;
        }
        currentNode = currentNode.parentNode;
    }

    return null; // No tab ID found
}



function getAnchorTagFromHref(hrefValue) {
    var anchorTag = document.querySelector('a[href="' + hrefValue + '"]');
    return anchorTag;
}


